<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<title>PLUMED: Master ISDD tutorial 2024: Brief introduction to PLUMED</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script>
   var redpath = "";
   
   function showPath(eg,name) {
     var i; var y = document.getElementsByName(redpath);
     for (i=0; i < y.length; i++ ) { y[i].style.color="black"; }
     var x = document.getElementsByName(name); redpath=name;
     for (i = 0; i < x.length; i++) { x[i].style.color="red"; }
     var valid="value_details_".concat(eg);
     var valueField = document.getElementById(valid);
     var dataField = document.getElementById(name);
     valueField.innerHTML = dataField.innerHTML;
   }
   function swapInput(name) {
     var btn = document.getElementById(name + "_button");
     var mydiv = document.getElementById("input_" + name);
     if( btn.textContent=="expand shortcuts" ) {
         btn.textContent = "contract shortcuts";
         var dataField = document.getElementById(name + "long");
         mydiv.innerHTML = dataField.innerHTML;
     } else if( btn.textContent=="contract shortcuts" ) {
         btn.textContent = "expand shortcuts";
         var dataField = document.getElementById(name + "short");
         mydiv.innerHTML = dataField.innerHTML;
     }
   }
</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table align="center" frame="void" width="98%" cellpadding="2%">
<tbody>
<tr style="height: 30px;">
<td valign="center"> &nbsp; <img src="pigeon.png" width="120"/></td>
<td style="padding-left: 0.2em;" width="74%"> <a href="http://www.plumed.org"> <img src="logo.png" width="400" /> </td>
<td style="padding-left: 0.2em;" align="right"> <a href="../../developer-doc/html/index.html"> <img src="user-logo.png" width="180" /> </a> </td>
</tr>
</tbody>
</table>
<!--
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">PLUMED
   &#160;<span id="projectnumber">2.9.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
-->
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('master-_i_s_d_d-1.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Master ISDD tutorial 2024: Brief introduction to PLUMED </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="master-ISDD-1-aims"></a>
Aim</h1>
<p>The aim of this tutorial is to introduce users to the PLUMED syntax. We will go through the preparation of input files to calculate and print simple collective variables on a pre-calculated trajectory. This tutorial has been prepared by Max Bonomi (adapting a lot of material from other tutorials and Masterclass) for the <a href="http://isddteach.sdv.univ-paris-diderot.fr/fr/accueil.html">Master In Silico Drug Design</a>, held at Université Paris Cité on April 8th, 2024.</p>
<h1><a class="anchor" id="master-ISDD-1-lo"></a>
Objectives</h1>
<p>Once this tutorial is completed, users will be able to:</p>
<ul>
<li>Write a simple PLUMED input file and use it with the PLUMED <a class="el" href="driver.html">driver</a> to analyze a trajectory.</li>
<li>Print collective variables such as distances (<a class="el" href="_d_i_s_t_a_n_c_e.html">DISTANCE</a>), torsional angles (<a class="el" href="_t_o_r_s_i_o_n.html">TORSION</a>), and gyration radius (<a class="el" href="_g_y_r_a_t_i_o_n.html">GYRATION</a>) using the <a class="el" href="_p_r_i_n_t.html">PRINT</a> action.</li>
<li>Use <a class="el" href="_m_o_l_i_n_f_o.html">MOLINFO</a> shortcuts.</li>
</ul>
<h1><a class="anchor" id="master-ISDD-1-software"></a>
Software</h1>
<p>In this and in the next tutorial, we will use two pieces of software: <a href="https://www.plumed.org">PLUMED</a> version 2.9.0 and <a href="http://www.gromacs.org">GROMACS</a> version 2020.7. First, we need to install the software on your machine using <code>conda</code>.</p>
<h2><a class="anchor" id="master-ISDD-1-install"></a>
Installation</h2>
<p>You should have all the software installed in a conda environment. To check this, you can type:</p>
<pre class="fragment"># activate environment
conda activate ISDD-tutorial-2024
</pre><p>If the environment is not found, you can prepare it yourself. First, you need to create the conda environment with:</p>
<pre class="fragment"># create environment
conda create --name ISDD-tutorial-2024
</pre><p>and activate it with:</p>
<pre class="fragment"># activate environment
conda activate ISDD-tutorial-2024
</pre><p>Finally, we can proceed with the installation of the required software:</p>
<pre class="fragment">conda install --strict-channel-priority -c plumed/label/isdd-2024 -c conda-forge plumed
conda install --strict-channel-priority -c plumed/label/isdd-2024 -c conda-forge gromacs
conda install -c conda-forge numpy
</pre><p>The <code>--strict-channel-priority</code> might be necessary in case your <code>conda</code> install is configured to download packages from the <code>bioconda</code> channel. Indeed, <code>bioconda</code> contains a version of GROMACS that is <b>not</b> patched with PLUMED and would thus not work here.</p>
<p>Please keep in mind that every time you open a new shell, in order to use PLUMED and GROMACS you need to activate the <code>ISDD-tutorial-2024</code> environment using the following command:</p>
<pre class="fragment">conda activate ISDD-tutorial-2024
</pre><h2><a class="anchor" id="master-ISDD-1-plumed"></a>
PLUMED overview</h2>
<p>PLUMED is a library that can be incorporated into many MD codes by adding a relatively simple and well documented interface. Once it is incorporated you can use PLUMED to perform a variety of different analyses on-the-fly and to bias the sampling in MD simulations. Additionally, PLUMED can be used as a standalone code for analyzing trajectories. If you are using the code in this way you can run the PLUMED executable by issuing the command:</p>
<pre class="fragment">plumed &lt;instructions&gt;
</pre><p>Let's start by getting a feel for the range of calculations that PLUMED can do. Issue the following command now:</p>
<pre class="fragment">plumed --help 
</pre><p>The output of this command is a list of tasks that PLUMED can perform. Among these, there are commands that allow you to patch an MD code, postprocess metadynamics simulations, and build the manual. In this tutorial we will mostly use PLUMED to analyze trajectories. In order to do so, we will learn how to use the <a class="el" href="driver.html">driver</a> tool. Let's look at the options of PLUMED <a class="el" href="driver.html">driver</a> by issuing the following command: <br  />
</p>
<pre class="fragment">plumed driver --help
</pre><p>As you can see we can do a number of things with PLUMED <a class="el" href="driver.html">driver</a>. For all of these options, however, we are going to need to write a PLUMED input file. The syntax of the PLUMED input file is the same that we will use later to run enhanced sampling simulations during a MD simulation, so all the things that you will learn now will be useful later when you will run PLUMED coupled to GROMACS.</p>
<h2><a class="anchor" id="master-ISDD-1-gromacs"></a>
GROMACS overview</h2>
<p>GROMACS is a molecular dynamics package mainly designed for simulations of proteins, lipids, and nucleic acids. More info can be found <a href="http://www.gromacs.org">here</a>.</p>
<p>You can check that GROMACS is properly working by typing:</p>
<pre class="fragment">gmx_mpi mdrun -h
</pre><p>If you inspect the long output generated by this command, you will notice a <code>-plumed</code> option, which indicates that GROMACS has properly been compiled with PLUMED. Great, now you are ready to go!</p>
<h1><a class="anchor" id="master-ISDD-1-structure"></a>
Your first PLUMED input file</h1>
<p>The main goal of PLUMED is to compute collective variables (or CVs), which are complex descriptors of the system that can be used to describe the conformational change of a protein or a chemical reaction. This can be done either on-the-fly during a molecular dynamics simulations or <em>a posteriori</em> on a pre-calculated trajectory using PLUMED as a post-processing tool. In both cases one, you should create an input file with a specific PLUMED syntax. Have a look at the sample input file below:</p>

<div style="width: 90%; float:left" id="value_details_eg1"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/v2.9-passing-green.svg" alt="tested on v2.9" /></div><pre style="width: 97%;" class="fragment">
<span style="color:blue"># Compute distance between atoms 1 and 10.</span>
<span style="color:blue"># Atoms are ordered as in the trajectory files and their numbering starts from 1.</span>
<span style="color:blue"># The distance is called "d" for future reference.</span>
<b name="eg1d" onclick='showPath("eg1","eg1d")'>d: </b><a href="https://www.plumed.org/doc-v2.9/user-doc/html/_d_i_s_t_a_n_c_e.html" style="color:green">DISTANCE</a> <div class="tooltip">ATOMS<div class="right">the pair of atom that we are calculating the distance between. <i></i></div></div>=1,10 <span style="display:none;" id="eg1d">The DISTANCE action with label <b>d</b> calculates a single scalar value</span>
<span style="color:blue"># Compute the torsional angle between atoms 1, 10, 20, and 30.</span>
<span style="color:blue"># The angle is called "phi1" for future reference.</span>
<b name="eg1phi1" onclick='showPath("eg1","eg1phi1")'>phi1: </b><a href="https://www.plumed.org/doc-v2.9/user-doc/html/_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <div class="tooltip">ATOMS<div class="right">the four atoms involved in the torsional angle <i></i></div></div>=1,10,20,30 <span style="display:none;" id="eg1phi1">The TORSION action with label <b>phi1</b> calculates a single scalar value</span>
<span style="color:blue"># The same CV defined above can be split into multiple lines</span>
<span style="color:blue"># The angle is called "phi2" for future reference.</span>
<b name="eg1phi2" onclick='showPath("eg1","eg1phi2")'>phi2: </b><a href="https://www.plumed.org/doc-v2.9/user-doc/html/_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> ...
   
   <div class="tooltip">ATOMS<div class="right">the four atoms involved in the torsional angle <i></i></div></div>=1,10,20,30 
...<span style="display:none;" id="eg1phi2">The TORSION action with label <b>phi2</b> calculates a single scalar value</span>
<span style="color:blue"># Print "d" on a file named "COLVAR1" every 10 steps.</span>
<a href="https://www.plumed.org/doc-v2.9/user-doc/html/_p_r_i_n_t.html" style="color:green">PRINT</a> <div class="tooltip">ARG<div class="right">the input for this action is the scalar output from one or more other actions. <i></i></div></div>=<b name="eg1d">d</b> <div class="tooltip">FILE<div class="right">the name of the file on which to output these quantities <i></i></div></div>=COLVAR1 <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which the quantities of interest should be output <i></i></div></div>=10 <span style="display:none;" id="eg1">The PRINT action with label <b></b></span>
<span style="color:blue"># Print "phi1" and "phi2" on another file named "COLVAR2" every 100 steps.</span>
<a href="https://www.plumed.org/doc-v2.9/user-doc/html/_p_r_i_n_t.html" style="color:green">PRINT</a> <div class="tooltip">ARG<div class="right">the input for this action is the scalar output from one or more other actions. <i></i></div></div>=<b name="eg1phi1">phi1</b>,<b name="eg1phi2">phi2</b> <div class="tooltip">FILE<div class="right">the name of the file on which to output these quantities <i></i></div></div>=COLVAR2 <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which the quantities of interest should be output <i></i></div></div>=100 <span style="display:none;" id="eg1">The PRINT action with label <b></b></span>
</pre>
<p>In the input file above, each line defines a so-called action. In this simple example, actions are used to compute a distance, a dihedral angle, or print some values on a file. Each action supports a number of keywords, whose value is specified. Action names are highlighted in green and, by clicking on them, you can go to the corresponding page in the manual that contains a detailed description of each keyword. Actions that support the keyword <code>STRIDE</code> are those that determine how frequently things are done. Notice that the default value for <code>STRIDE</code> is always 1. In the example above, omitting <code>STRIDE</code> keywords the corresponding <code>COLVAR</code> files would have been written for every frame of the analyzed trajectory. All the other actions in the example above, i.e. <a class="el" href="_d_i_s_t_a_n_c_e.html">DISTANCE</a> and <a class="el" href="_t_o_r_s_i_o_n.html">TORSION</a>, do not support the <code>STRIDE</code> keyword and are only calculated when requested. That is, <code>d</code> will be computed every 10 frames, and <code>phi1</code> and <code>phi2</code> every 100 frames.</p>
<p>Variables should be given a name (in the example above, <code>d</code>, <code>phi1</code>, and <code>phi2</code>), which is then used to refer to these variables in subsequent actions, such as the <a class="el" href="_p_r_i_n_t.html">PRINT</a> command. A lists of atoms should be provided as comma separated numbers, with no space.</p>
<p>You can find more information on the PLUMED syntax at <a class="el" href="_syntax.html">Getting Started</a> page of the manual. The complete documentation for all the supported collective variables can be found at the <a class="el" href="colvarintro.html">Collective Variables</a> page.</p>
<h2><a class="anchor" id="master-ISDD-1-units"></a>
The PLUMED internal units</h2>
<p>By default the PLUMED inputs and outputs quantities in the following units:</p>
<ul>
<li>Length: nanometers</li>
<li>Energy: kJ/mol</li>
<li>Time: picoseconds</li>
<li>Mass: amu</li>
<li>Charge: e</li>
</ul>
<p>If you want to change these units, you can do this using the <a class="el" href="_u_n_i_t_s.html">UNITS</a> keyword.</p>
<h1><a class="anchor" id="master-ISDD-1-resources"></a>
Resources</h1>
<p>The <span style="background-color:yellow"><a href="https://github.com/maxbonomi/plumed-nest-data/raw/master/projects-2020/master-ISDD-1.tar.gz" style="font-weight:bold" style="color:green" download="https://github.com/maxbonomi/plumed-nest-data/raw/master/projects-2020/master-ISDD-1.tar.gz">TARBALL</a> </span> for this tutorial contains the following files:</p><ul>
<li><code>GB1_native.pdb</code>: a PDB file with the native structure of the GB1 protein.</li>
<li><code>traj-whole.xtc</code>: a trajectory in <code>xtc</code> format. GB1 has already been made whole by fixing discontinuities due to periodic boundary conditions.</li>
<li><code>traj-broken.xtc</code>: the same trajectory as it was originally produced by GROMACS. Here GB1 is broken by periodic boundary conditions.</li>
</ul>
<p>After dowloading the compressed archive to your local machine, you can unpack it using the following command:</p>
<pre class="fragment">tar xvzf master-ISDD-1.tar.gz 
</pre><p>Once unpacked, all the files can be found in the <code>master-ISDD-1</code> directory. To keep things clean, it is recommended to run each exercise in a separate sub-directory that you can create inside <code>master-ISDD-1</code>.</p>
<dl class="section note"><dt>Note</dt><dd>This tutorial has been tested with PLUMED version 2.8.2.</dd></dl>
<h1><a class="anchor" id="master-ISDD-1-ex"></a>
Exercises</h1>
<h2><a class="anchor" id="master-ISDD-1-ex-1"></a>
Exercise 1: Computing and printing simple collective variables</h2>
<p>In this exercise, we will learn how to compute and print collective variables on a pre-calculated MD trajectory. To analyze the trajectories provided here, we will:</p><ul>
<li>create a PLUMED input file with a text editor (typically called <code>plumed.dat</code>);</li>
<li>run the PLUMED <a class="el" href="driver.html">driver</a> utility.</li>
</ul>
<p>Notice that you can also visualize trajectories with <code>VMD</code> (always a good idea!). For example, the trajectory <code>traj-whole.xtc</code> can be visualized with the command:</p>
<pre class="fragment">vmd GB1_native.pdb traj-whole.xtc
</pre><p>Let's now prepare a PLUMED input file to calculate:</p><ul>
<li>the gyration radius of all CA protein atoms (<a class="el" href="_g_y_r_a_t_i_o_n.html">GYRATION</a>). Look in the <code>GB1_native.pdb</code> file to retrieve the list of indexes of the CA atoms;</li>
<li>the total number of contacts (<a class="el" href="_c_o_o_r_d_i_n_a_t_i_o_n.html">COORDINATION</a>) between all protein CA atoms. For <a class="el" href="_c_o_o_r_d_i_n_a_t_i_o_n.html">COORDINATION</a>, set reference distance <code>R_0</code> to 8.0 Angstrom (be careful with units!).</li>
</ul>
<p>Below you can find a sample <code>plumed.dat</code> file that you can use as a template. Whenever you see an highlighted <span style="background-color:yellow">FILL</span> string, be careful because this is a string that you must replace.</p>

<div style="width: 90%; float:left" id="value_details_eg2"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/v2.9-incomplete-yellow.svg" alt="tested on v2.9" /></div><pre style="width: 97%;" class="fragment">
<span style="color:blue"># Compute gyration radius on CA atoms:</span>
<b name="eg2r" onclick='showPath("eg2","eg2r")'>r: </b><a href="https://www.plumed.org/doc-v2.9/user-doc/html/_g_y_r_a_t_i_o_n.html" style="color:green">GYRATION</a> <div class="tooltip">ATOMS<div class="right">the group of atoms that you are calculating the Gyration Tensor for. <i></i></div></div>=<span style="background-color:yellow">__FILL__</span> <span style="display:none;" id="eg2r"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<span style="color:blue"># Compute number of contacts between CA atoms</span>
<b name="eg2co" onclick='showPath("eg2","eg2co")'>co: </b><a href="https://www.plumed.org/doc-v2.9/user-doc/html/_c_o_o_r_d_i_n_a_t_i_o_n.html" style="color:green">COORDINATION</a> <div class="tooltip">GROUPA<div class="right">First list of atoms. <i></i></div></div>=<span style="background-color:yellow">__FILL__</span> <div class="tooltip">R_0<div class="right"><b> could not find this keyword </b><i></i></div></div>=<span style="background-color:yellow">__FILL__</span> <span style="display:none;" id="eg2co"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<span style="color:blue"># Print the two collective variables on COLVAR file every step</span>
<a href="https://www.plumed.org/doc-v2.9/user-doc/html/_p_r_i_n_t.html" style="color:green">PRINT</a> <div class="tooltip">ARG<div class="right">the input for this action is the scalar output from one or more other actions. <i></i></div></div>=<span style="background-color:yellow">__FILL__</span> <div class="tooltip">FILE<div class="right">the name of the file on which to output these quantities <i></i></div></div>=COLVAR <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which the quantities of interest should be output <i></i></div></div>=<span style="background-color:yellow">__FILL__</span> <span style="display:none;" id="eg2"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
</pre>
<p>Once your <code>plumed.dat</code> file is complete, you can run the PLUMED <a class="el" href="driver.html">driver</a> as follows:</p>
<pre class="fragment">plumed driver --plumed plumed.dat --mf_xtc traj-broken.xtc
</pre><p>Scroll in your terminal to read the PLUMED log. As you can see, PLUMED gives a lot of feedback about the input that it is reading and the actions that it will execute. Please take your time to inspect the log file and check if PLUMED is actually doing what you intend to do.</p>
<p>The command above will create a <code>COLVAR</code> file like this one:</p>
<pre class="fragment">#! FIELDS time r co
 0.000000 2.458704 165.184127
 1.000000 2.341932 164.546604
 2.000000 2.404708 162.606975
 3.000000 2.454297 143.850122
 4.000000 2.569342 147.110408
 5.000000 2.304027 163.608703
</pre><p>Notice that the first line informs you about the content of each column.</p>
<p><b>In case you obtain different numbers, check your input, you might have made some mistake!</b></p>
<p>This file can then be visualized using <code>gnuplot</code> (for more info about this tool, look <a href="http://www.gnuplot.info">here</a>):</p>
<pre class="fragment">gnuplot&gt; p "COLVAR" u 1:2, "" u 1:3
</pre><p>Now, look at what happens if you run the exercise twice. The second time, PLUMED will <em>back up</em> the previously produced file so as not to overwrite it. You can also <em>concatenate</em> your files by using the action <a class="el" href="_r_e_s_t_a_r_t.html">RESTART</a> at the beginning of your input file.</p>
<p>Finally, let's try to use the same input file with <code>traj-whole.xtc</code> and examine the results. Did you find the same results as with the previous trajectory? Why?</p>
<h2><a class="anchor" id="master-ISDD-1-ex-2"></a>
Exercise 2:  MOLINFO shortcuts</h2>
<p>PLUMED provides some shortcuts to select atoms with specific properties. To use this feature, you should specify the <a class="el" href="_m_o_l_i_n_f_o.html">MOLINFO</a> action along with a reference PDB file. This command is used to provide information on the molecules that are present in your system.</p>
<p>Let's try to use this functionality to calculate the backbone dihedral angle \( \phi \) (phi) of residue 2 of the GB1 protein. This CV is defined by the action <a class="el" href="_t_o_r_s_i_o_n.html">TORSION</a> and a set of 4 atoms. For residue <code>i</code>, the dihedral \( \phi \) is defined by these atoms: C(i-1),N(i),CA(i),C(i) (see Fig. <a class="el" href="master-_i_s_d_d-1.html#master-ISDD-1-dih-fig">master-ISDD-1-dih-fig</a>).</p>
<p><a class="anchor" id="master-ISDD-1-dih-fig"></a></p><div class="image">
<img src="master-ISDD-1-dih-fig.png" alt=""/>
<div class="caption">
Definition of backbone dihedral angles.</div></div>
<p>After consulting the manual and inspecting <code>GB1_native.pdb</code>, let's define the dihedral angle \( \phi \) of residue 2 in two different ways:</p><ol type="1">
<li>specifying an explicit list of 4 atoms (<code>t1</code>).</li>
<li>using the <a class="el" href="_m_o_l_i_n_f_o.html">MOLINFO</a> shortcut (<code>t2</code>);</li>
</ol>

<div style="width: 90%; float:left" id="value_details_eg3"> Click on the labels of the actions for more information on what each action computes </div>
<div style="width: 10%; float:left"><img src="https://img.shields.io/badge/v2.9-incomplete-yellow.svg" alt="tested on v2.9" /></div><pre style="width: 97%;" class="fragment">
<span style="color:blue"># Activate MOLINFO functionalities</span>
<a href="https://www.plumed.org/doc-v2.9/user-doc/html/_m_o_l_i_n_f_o.html" style="color:green">MOLINFO</a> <div class="tooltip">STRUCTURE<div class="right"><b>compulsory keyword </b>
a file in pdb format containing a reference structure. <i></i></div></div>=<span style="background-color:yellow">__FILL__</span> <span style="display:none;" id="eg3"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<span style="color:blue"># Define the dihedral phi of residue 2 as an explicit list of 4 atoms</span>
<b name="eg3t1" onclick='showPath("eg3","eg3t1")'>t1: </b><a href="https://www.plumed.org/doc-v2.9/user-doc/html/_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <div class="tooltip">ATOMS<div class="right">the four atoms involved in the torsional angle <i></i></div></div>=<span style="background-color:yellow">__FILL__</span> <span style="display:none;" id="eg3t1"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<span style="color:blue"># Define the same dihedral using MOLINFO shortcuts</span>
<b name="eg3t2" onclick='showPath("eg3","eg3t2")'>t2: </b><a href="https://www.plumed.org/doc-v2.9/user-doc/html/_t_o_r_s_i_o_n.html" style="color:green">TORSION</a> <div class="tooltip">ATOMS<div class="right">the four atoms involved in the torsional angle <i></i></div></div>=<span style="background-color:yellow">__FILL__</span> <span style="display:none;" id="eg3t2"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
<span style="color:blue"># Print the two collective variables on COLVAR file every 10 steps</span>
<a href="https://www.plumed.org/doc-v2.9/user-doc/html/_p_r_i_n_t.html" style="color:green">PRINT</a> <div class="tooltip">ARG<div class="right">the input for this action is the scalar output from one or more other actions. <i></i></div></div>=<span style="background-color:yellow">__FILL__</span> <div class="tooltip">FILE<div class="right">the name of the file on which to output these quantities <i></i></div></div>=COLVAR <div class="tooltip">STRIDE<div class="right"><b>compulsory keyword ( default=1 )</b>
the frequency with which the quantities of interest should be output <i></i></div></div>=<span style="background-color:yellow">__FILL__</span> <span style="display:none;" id="eg3"> You cannot view the components that are calculated by each action for this input file. Sorry </span>
</pre>
<p>After completing the PLUMED input file above, let's use it to analyze the trajectory <code>traj-whole.xtc</code> using the <a class="el" href="driver.html">driver</a> tool:</p>
<pre class="fragment">plumed driver --plumed plumed.dat --mf_xtc traj-whole.xtc
</pre><p>You can use <code>gnuplot</code> to visualize the trajectory of the two CVs calculated with the PLUMED input file above and written in the <code>COLVAR</code> file. <b>Are the two trajectories identical?</b></p>
<h1><a class="anchor" id="master-ISDD-1-conclusions"></a>
Conclusions</h1>
<p>In summary, in this tutorial you should have learned how to use PLUMED to:</p><ul>
<li>Analyze previously calculated trajectories using the <a class="el" href="driver.html">driver</a> utility.</li>
<li>Define <a class="el" href="_m_o_l_i_n_f_o.html">MOLINFO</a> shortcuts. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
<!--    <li class="navelem"><a class="el" href="tutorials.html">Tutorials</a></li>  -->
    <li class="footer">   <!--- Generated by -->
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
